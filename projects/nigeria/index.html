---
layout: default
title: Nigeria
---

<link rel="stylesheet" href="/projects/syria-tracker/nv.d3.min.css">


<div id="chart" style="width:1200px">
  <svg style="height:500px"></svg>
</div>

<hr>

<div id="barchat" style="margin-top: 30px; width:1200px">
  <svg style="height: 500px"></svg>
</div>

<hr>

<div id="linechart" style="margin-top: 30px; width: 1200px">
  <svg style="height:500px"></svg>
</div>


<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="/projects/syria-tracker/nv.d3.min.js"></script>

<script>
  window.doOnLoad = function() {
    d3.json('/projects/nigeria/category-counts-all.json', function(data) {
      
      
      /*
      nv.addGraph(function() {
        var chart = nv.models.stackedAreaChart()
                      .margin({right: 100})
                      .x(function(d) { return (new Date(d[0])).getTime() }) 
                      .y(function(d) { return d[1] })   
                      .useInteractiveGuideline(true)    
                      .rightAlignYAxis(true)      //Let's move the y-axis to the right side.
                      .transitionDuration(500)
                      .showControls(true)       
                      .clipEdge(true);

        //Format x-axis labels with custom function.
        
        chart.xAxis
            .tickFormat(function(d) { 
              return d3.time.format('%x')(new Date(d)) 
        });


        d3.select('#chart svg')
          .datum(data)
          .call(chart);

        nv.utils.windowResize(chart.update);

        return chart;
      }); // area chart
      

      
      nv.addGraph(function() {
          var chart = nv.models.multiBarChart()
            .transitionDuration(350)
            .reduceXTicks(true)   
            .x(function(d) { return (new Date(d[0])).getTime() }) 
            .y(function(d) { return d[1] })
            .rotateLabels(0)      //Angle to rotate x-axis labels.
            .showControls(true)   //Allow user to switch between 'Grouped' and 'Stacked' mode.
            .groupSpacing(0.1)    //Distance between each group of bars.
          ;

          chart.xAxis.tickFormat(function(d) { 
                return d3.time.format('%x')(new Date(d));
          });

          //chart.yAxis
          //    .tickFormat(d3.format(',.1f'));

          d3.select('#barchat svg')
              .datum(data)
              .call(chart);

          nv.utils.windowResize(chart.update);

          return chart;
      }); // bar chart


      nv.addGraph(function() {
        var chart = nv.models.lineChart()
                      .margin({left: 100})  
                      .useInteractiveGuideline(true)  
                      .x(function(d) { return (new Date(d[0])).getTime() }) 
                      .y(function(d) { return d[1] })
                      .transitionDuration(350)  
                      .showLegend(true)       
                      .showYAxis(true)        //Show the y-axis
                      .showXAxis(true)        //Show the x-axis
        ;

        chart.xAxis     //Chart x-axis settings
            .axisLabel('Publish Date')
            .tickFormat(function(d) { 
                return d3.time.format('%x')(new Date(d));
            });

        chart.yAxis     //Chart y-axis settings
            .axisLabel('Number of articles');

        d3.select('#linechart svg')    
            .datum(data)         //Populate the <svg> element with chart data...
            .call(chart);          //Finally, render the chart!

        //Update the chart when window resizes.
        nv.utils.windowResize(function() { chart.update() });
        return chart;
      }); // line chart

    }); 
    */

    nv.addGraph(function() {
        var chart = nv.models.linePlusBarChart()
                      //.margin({left: 100})  
                      .x(function(d) { return (new Date(d[0])).getTime() }) 
                      .y(function(d) { return d[1] })
                      //.transitionDuration(350)  
                      //.showLegend(true)       
                      //.showYAxis(true)        //Show the y-axis
                      //.showXAxis(true)        //Show the x-axis
        ;

        chart.xAxis     //Chart x-axis settings
            .axisLabel('Publish Date')
            .tickFormat(function(d) { 
                return d3.time.format('%x')(new Date(d));
            });

        chart.y1Axis     //Chart y-axis settings
            .axisLabel('Number of articles');

        chart.bars.forceY([0]);

        d3.select('#linechart svg')    
            .datum(data)
        .transition()
        .duration(0)
        .call(chart);         //Finally, render the chart!

        //Update the chart when window resizes.
        nv.utils.windowResize(function() { chart.update() });
        return chart;
      }); // line chart

    }); 



    d3.json('/projects/nigeria/category-counts-emotional.json', function(data) {
      
      
      
      nv.addGraph(function() {
        var chart = nv.models.stackedAreaChart()
                      .margin({right: 100})
                      .x(function(d) { return (new Date(d[0])).getTime() }) 
                      .y(function(d) { return d[1] })   
                      .useInteractiveGuideline(true)    
                      .rightAlignYAxis(true)      //Let's move the y-axis to the right side.
                      .transitionDuration(500)
                      .showControls(true)       
                      .clipEdge(true);

        //Format x-axis labels with custom function.
        
        chart.xAxis
            .tickFormat(function(d) { 
              return d3.time.format('%x')(new Date(d)) 
        });


        d3.select('#chart svg')
          .datum(data)
          .call(chart);

        nv.utils.windowResize(chart.update);

        return chart;
      }); // area chart
      

      
      nv.addGraph(function() {
          var chart = nv.models.multiBarChart()
            .transitionDuration(350)
            .reduceXTicks(true)   
            .x(function(d) { return (new Date(d[0])).getTime() }) 
            .y(function(d) { return d[1] })
            .rotateLabels(0)      //Angle to rotate x-axis labels.
            .showControls(true)   //Allow user to switch between 'Grouped' and 'Stacked' mode.
            .groupSpacing(0.1)    //Distance between each group of bars.
          ;

          chart.xAxis.tickFormat(function(d) { 
                return d3.time.format('%x')(new Date(d));
          });

          //chart.yAxis
          //    .tickFormat(d3.format(',.1f'));

          d3.select('#barchat svg')
              .datum(data)
              .call(chart);

          nv.utils.windowResize(chart.update);

          return chart;
      }); // bar chart
      /*

      nv.addGraph(function() {
        var chart = nv.models.lineChart()
                      .margin({left: 100})  
                      .useInteractiveGuideline(true)  
                      .x(function(d) { return (new Date(d[0])).getTime() }) 
                      .y(function(d) { return d[1] })
                      .transitionDuration(350)  
                      .showLegend(true)       
                      .showYAxis(true)        //Show the y-axis
                      .showXAxis(true)        //Show the x-axis
        ;

        chart.xAxis     //Chart x-axis settings
            .axisLabel('Publish Date')
            .tickFormat(function(d) { 
                return d3.time.format('%x')(new Date(d));
            });

        chart.yAxis     //Chart y-axis settings
            .axisLabel('Number of articles');

        d3.select('#linechart svg')    
            .datum(data)         //Populate the <svg> element with chart data...
            .call(chart);          //Finally, render the chart!

        //Update the chart when window resizes.
        nv.utils.windowResize(function() { chart.update() });
        return chart;
      }); // line chart
      */
    });
    
  };

</script>